# ===================================
# Database Configuration
# ===================================
# Choose ONE of the following options:

# Option 1: Supabase (Managed PostgreSQL)
# If SUPABASE_URL is set, it will be used automatically
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-supabase-anon-key
SUPABASE_SERVICE_KEY=your-supabase-service-key

# Option 2: Local PostgreSQL (Docker)
# Used if SUPABASE_URL is NOT set
POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_USER=thoughtprocessor
POSTGRES_PASSWORD=your-secure-password
POSTGRES_DB=thoughtprocessor
DATABASE_URL=postgresql://thoughtprocessor:your-secure-password@db:5432/thoughtprocessor

# ===================================
# AI Provider Configuration
# ===================================
# Supported providers: anthropic, openai, google
AI_PROVIDER=anthropic

# Anthropic (Claude)
ANTHROPIC_API_KEY=sk-ant-your-key-here
ANTHROPIC_MODEL=claude-sonnet-4-20250514

# OpenAI (GPT)
OPENAI_API_KEY=sk-your-openai-key-here
OPENAI_MODEL=gpt-4-turbo-preview

# Google (Gemini)
GOOGLE_API_KEY=your-google-api-key-here
GOOGLE_MODEL=gemini-2.5-flash-lite

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
DEBUG=false

# Batch Processing
BATCH_SCHEDULE=0 2 * * *
TIMEZONE=UTC

# Caching Configuration
SEMANTIC_CACHE_THRESHOLD=0.92
SEMANTIC_CACHE_TTL_DAYS=7
PROMPT_CACHE_ENABLED=true

# Claude Model Configuration
CLAUDE_MODEL=claude-sonnet-4-20250514
CLAUDE_MAX_TOKENS=4000

# OpenAI Embeddings
EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_DIMENSIONS=1536

# Rate Limiting
RATE_LIMIT_DELAY=0.5
MAX_RETRIES=3

# ===================================
# Payment & Subscription (Stripe)
# ===================================
# Get your keys from: https://dashboard.stripe.com/apikeys
# Use test keys (pk_test_* and sk_test_*) for development
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here

# Webhook secret (optional, for production)
# Get from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ===================================
# Email Configuration (Optional)
# ===================================
# For sending welcome emails, receipts, etc.
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@yourapp.com

# ===================================
# Kafka Streaming Configuration
# ===================================
# Enable Kafka for real-time thought processing (true/false)
KAFKA_ENABLED=true
KAFKA_MODE=true

# Kafka Connection
KAFKA_BOOTSTRAP_SERVERS=kafka:9092
KAFKA_TOPIC=thought-processing
KAFKA_CONSUMER_GROUP=thought-workers
KAFKA_PARTITIONS=3

# Kafka Performance Tuning
KAFKA_BATCH_SIZE=16384
KAFKA_LINGER_MS=10
KAFKA_MAX_RETRIES=3
KAFKA_RETRY_BACKOFF_MS=1000

# Dead Letter Queue
KAFKA_DEAD_LETTER_TOPIC=thought-processing-dlq

# ===================================
# Redis Configuration (for SSE)
# ===================================
REDIS_URL=redis://redis:6379
REDIS_SSE_PREFIX=thought_updates

# ===================================
# SSE Configuration
# ===================================
SSE_HEARTBEAT_INTERVAL=30
SSE_MAX_CONNECTIONS=1000
